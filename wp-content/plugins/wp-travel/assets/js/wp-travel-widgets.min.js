jQuery(function(a){function b(a){for(var b=null,c=[],d=location.search.substr(1).split("&"),e=0;e<d.length;e++)c=d[e].split("="),c[0]===a&&(b=decodeURIComponent(c[1]));return b}a(document).ready(function(){var c=[];"object"==typeof wp_travel.prices&&(c=wp_travel.prices.map(function(a){return parseInt(a,10)}));var d=Math.min.apply(null,c),e=Math.max.apply(null,c);if(b("min_price"))var f=b("min_price");else f=d;if(b("max_price"))var g=b("max_price");else g=e;a(".wp-travel-range-slider").slider({range:!0,min:d,max:e,values:[f,g],slide:function(b,c){a(".price-amount").val(wp_travel.currency_symbol+c.values[0]+" - "+wp_travel.currency_symbol+c.values[1]),a(".wp-travel-range-slider").siblings(".wp-travel-filter-price-min").val(c.values[0]),a(".wp-travel-range-slider").siblings(".wp-travel-filter-price-max").val(c.values[1])}}),a(".price-amount").val(wp_travel.currency_symbol+a(".wp-travel-range-slider").slider("values",0)+" - "+wp_travel.currency_symbol+a(".wp-travel-range-slider").slider("values",1)),a(".trip-duration-calender input").wpt_datepicker({language:wp_travel.locale})}),a(".wp-travel-filter-search-submit").on("click",function(){var b=a(this).siblings(".wp-travel-widget-filter-view-mode").data("mode");pathname=a(this).siblings(".wp-travel-widget-filter-archive-url").val(),pathname||(pathname=window.location.pathname),query_string="?",pathname.match(/\?/)&&(query_string="&");var c=a(this).siblings(".filter-data-index").data("index");a(".wp_travel_search_widget_filters_input"+c).each(function(){filterby=a(this).attr("name"),filterby_val=a(this).val(),query_string+=filterby+"="+filterby_val+"&"}),redirect_url=pathname+query_string,redirect_url=redirect_url.replace(/&+$/,""),redirect_url=redirect_url+"&view_mode="+b,window.location=redirect_url});var c=function(b){b.preventDefault(),a(".enquiry-response").remove();var c=a("#wp-travel-enquiries").serializeArray();c.push({name:"nonce",value:wp_travel.nonce});var d=a("#wp_travel_label_processing").val(),e=a("#wp_travel_label_submit_enquiry").val();a.ajax({type:"POST",url:wp_travel.ajaxUrl,data:c,beforeSend:function(){a("#wp-travel-enquiry-submit").addClass("loading-bar loading-bar-striped active").val(d).attr("disabled","disabled")},success:function(b){if(0==b.success){var c='<span class="enquiry-response enquiry-error-msg">'+b.data.message+"</span>";a("#wp-travel-enquiries").append(c)}else if(1==b.success){var c='<span class="enquiry-response enquiry-success-msg">'+b.data.message+"</span>";a("#wp-travel-enquiries").append(c),setTimeout(function(){jQuery("#wp-travel-send-enquiries").magnificPopup("close"),a("#wp-travel-enquiries .enquiry-response ").hide()},"3000")}return a("#wp-travel-enquiry-submit").removeClass("loading-bar loading-bar-striped active").val(e).removeAttr("disabled","disabled"),a("#wp-travel-enquiry-name").val(""),a("#wp-travel-enquiry-email").val(""),a("#wp-travel-enquiry-query").val(""),!1}}),a("#wp-travel-enquiries").trigger("reset")};a("body").off("submit","#wp-travel-enquiries"),a("#wp-travel-enquiries").submit(c)});
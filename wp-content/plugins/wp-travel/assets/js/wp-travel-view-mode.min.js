jQuery(document).ready(function(a){function b(a){var b,c,d,e,f,g=[];for(b=document.getElementsByClassName("select-items"),c=document.getElementsByClassName("select-selected"),e=b.length,f=c.length,d=0;d<f;d++)a==c[d]?g.push(d):c[d].classList.remove("select-arrow-active");for(d=0;d<e;d++)g.indexOf(d)&&b[d].classList.add("select-hide")}a(".btn-wp-travel-filter").on("click",function(){var b=a(".wp-travel-view-mode.active-mode").data("mode");pathname=a("#wp-travel-archive-url").val(),pathname||(pathname=window.location.pathname),query_string="?",pathname.match(/\?/)&&(query_string="&"),a(".wp_travel_input_filters").each(function(){filterby=a(this).attr("name"),filterby_val=a(this).val(),query_string+=filterby+"="+filterby_val+"&"}),redirect_url=pathname+query_string,redirect_url=redirect_url.replace(/&+$/,""),redirect_url=redirect_url+"&view_mode="+b,window.location=redirect_url}),"grid"==a(".wp-travel-view-mode.active-mode").data("mode")?a("body").addClass("wp-travel-grid-mode"):a("body").removeClass("wp-travel-list-mode");var c,d,e,f,g,h,i,j,k;for(c=document.getElementsByClassName("wti__filter-input"),f=c.length,d=0;d<f;d++){for(h=c[d].getElementsByTagName("select")[0],g=h.length,i=document.createElement("DIV"),i.setAttribute("class","select-selected"),i.innerHTML=h.options[h.selectedIndex].innerHTML,c[d].appendChild(i),j=document.createElement("DIV"),j.setAttribute("class","select-items select-hide"),e=0;e<g;e++)k=document.createElement("DIV"),k.innerHTML=h.options[e].innerHTML,k.addEventListener("click",function(a){var b,c,d,e,f,g,h;for(e=this.parentNode.parentNode.getElementsByTagName("select")[0],g=e.length,f=this.parentNode.previousSibling,c=0;c<g;c++)if(e.options[c].innerHTML==this.innerHTML){for(e.selectedIndex=c,f.innerHTML=this.innerHTML,b=this.parentNode.getElementsByClassName("same-as-selected"),h=b.length,d=0;d<h;d++)b[d].removeAttribute("class");this.setAttribute("class","same-as-selected");break}f.click()}),j.appendChild(k);c[d].appendChild(j),i.addEventListener("click",function(a){a.stopPropagation(),b(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",b),a(".wti__grid-list-filter .wti__button").on("click",function(){a(this).addClass("active").siblings(".wti__button").removeClass("active");var b=a(this).data("view");a(".wti__list-wrapper").removeClass("grid-view list-view"),a(".wti__list-wrapper").addClass(b)})});